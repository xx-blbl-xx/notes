### es提供了copy_to功能可以将多个字段放在一个字段中进行全文搜索，可以避免多字段搜索带来的过慢问题

> https://www.elastic.co/docs/reference/elasticsearch/mapping-reference/copy-to
> https://www.elastic.co/docs/deploy-manage/production-guidance/optimize-performance/search-speed#search-as-few-fields-as-possible

### 在es中script，join和nested查询会导致搜索速度下降，应当在文档建模时尽量扁平化

> https://www.elastic.co/docs/deploy-manage/production-guidance/optimize-performance/search-speed#_document_modeling
> https://www.elastic.co/docs/deploy-manage/production-guidance/optimize-performance/search-speed#_avoid_scripts
